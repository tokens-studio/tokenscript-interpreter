# Using tokenscript as a StyleDictionary transform

When you're not fully ready to migrate to tokenscript, although it's super easy (insert link to migration tutorial)

You can use tokenscript easily as a transform step!

Note: You will lose out on some of the performance gains of using the tokenscript processor!

## Tutorial

### Building a simple unit conversion transform

In your StyleDictionary setup you can transform tokens by using the TokenScriptTransform package right out of the box

Let's say you want to create a transform that converts any `px` values to `rem` with your desired baseSize in mind:

```javascript
import StyleDictionary from "style-dictionary";
import { schemaToDictionaryTransform } from "tokenscript";
import { CssPx } from "tokenscript-schemas";

// Build your own easy transform to transform any unit to px
const pxToRemTransform = schemaToDictionaryTransform({ 
  output: CssPx, 
  config: { 
    baseSize: 16px 
  }, 
});

// Reegister the transform with StyleDictionary
StyleDictionary.registerTransform("tokenscript/pxToRem", pxToRemTransform);

// Create a StyleDictionary config
const generateConfig = (name, sources, buildPath = "src/.cache/tokens/") => {
  return {
    source: sources,
    platforms: {
      css: {
        transforms: ["tokenscript/pxToRem"],
        buildPath: buildPath,
        files: [
          {
            destination: `${name}.css`,
            format: "css/variables",
            options: {
              outputReferences: true,
            },
          },
        ],
      },
    },
  };
};

// Resolve & permutate themes in StyleDictionary
const configs = {
  light: generateConfig("light", [
    "tokens/core.json",
    "tokens/light.json",
    "tokens/theme.json",
  ]),
  dark: generateConfig("dark", [
    "tokens/core.json",
    "tokens/dark.json",
    "tokens/theme.json",
  ]),
};

// Build your tokens
export const buildTokens = async () => {
  for (const cfg of Object.values(configs)) {
    const sd = new StyleDictionary(cfg);
    await sd.buildAllPlatforms();
  }
};

if (import.meta.url === import.meta.resolve(process.argv[1])) {
  buildTokens();
}
```

## TODO Add a example how simple it would be to write in tokenscript

Outline performance gains etc
